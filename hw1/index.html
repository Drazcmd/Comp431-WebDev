<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
	<meta name="author" content="Clayton Drazner (cmd11)"> 
	<title>HW1: Simple landing page</title>
	<link rel="stylesheet" href="simplestyles.css">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<script>
function submitForm(){
	//Check password and confirmation match
	//Hopefully doing it like this isn't a security vulnerabiltiy!
	pswvalue = document.getElementById("password").value 
	cnfvalue = document.getElementById("passwordcnf").value
	if (pswvalue === cnfvalue) {
		console.log("password and confirmation match")
	} else {
		console.log("password and confirmation don't match")
		alert("Warning - password and password confirmation fields must match!")
		return false
	}

	//Check dob is valid and under 18
	//TODO - still need to do this
	return true
}
function clearForms(){
	document.getElementById("accntname").value = ""
	document.getElementById("dispid").value = ""
	document.getElementById("email").value = ""
	document.getElementById("phonenum").value = ""
	document.getElementById("dob").value = ""
	document.getElementById("zip").value = ""
	document.getElementById("password").value = ""
	document.getElementById("passwordcnf").value = ""
}
function makeTimestamp(){
	var milisecs_since_epoch = new Date().getTime()
	document.getElementById("timestamp").value = milisecs_since_epoch
	console.log(document.getElementById("timestamp").value)
}
</script>


<body onload="makeTimestamp()">
	<form id="Login" method="get" action="formProcessor.html">	
		<input type="hidden" name="timestamp" id="timestamp" value="">
		<p> Account Name (Can only be upper or lower case letters and numbers, and cannot start with a number): 
		 	<input type="text" id="accntname" 
		 	pattern="([a-zA-Z])([a-zA-Z0-9])+" required>
		</p>
		<p> Display Name (Optional, and can only be upper or lower case letters or numbers):
		 	<input type="text" id="dispid" 
		 	pattern="([a-zA-Z0-9]+)"> <!--not required--> 
		</p>

		<p> Email Address (e.g. Aa1@amail.aa):
		 	<input type="text" id="email" 
		 	pattern="([a-zA-Z0-9]+)(\x40)([a-z]+)(\x2E)([a-z]+)"
		 	required> <!-- \x40 is ASCII hex for "@", \x2E is ASCII hex for "."-->
		</p>
		<p> Phone Number (e.g. 123-123-1234):
			<input type="text" id="phonenum" pattern="\d{3}-\d{3}-\d{4}" required> 
		</p>
		<p> Date of birth (MM/DD/YYYY):
			<input type="text" id="dob" 
			pattern="(\d{2})(/)(\d{2})(/)(\d{4})" required>
		</p>
		<p> Zip code(e.g. 77777): 
			<input type="text" id="zip" pattern="\d{5}" required>
		</p>

		<p> Password: 
			<input type="password" id="password" required>
		</p>
		<p> Password Confirmation: 
			<input type="password" id="passwordcnf" required>
		</p>

		<input type="submit" onclick = "return submitForm()" value="Submit Registration Form">
		<button type="button" onclick="clearForms()"> Clear Forms </button>


		<!--For now should send a GET request as specified. I assume once
		we get a backend up this should change to be a POST request?-->
	</form>
</body>
</html>